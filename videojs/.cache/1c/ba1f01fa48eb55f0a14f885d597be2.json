{"id":"8FUp","dependencies":[{"name":"/Users/mmcc/Projects/muxinc/playground/videojs/package.json","includedInParent":true,"mtime":1546639489646},{"name":"/Users/mmcc/Projects/muxinc/playground/videojs/node_modules/mux.js/package.json","includedInParent":true,"mtime":1546637285878}],"generated":{"js":"var t=9e4,e=function(t,e){\"number\"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),\"number\"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},m=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},n=function(e,m){var n,s=e.minSegmentDts;return m||(s-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=s,n=Math.max(0,n),\"audio\"===e.type&&(n*=e.samplerate/t,n=Math.floor(n)),n};module.exports={clearDtsInfo:m,calculateTrackBaseMediaDecodeTime:n,collectDtsInfo:e};","map":{"mappings":[{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":1,"column":0},"generated":{"line":1,"column":4}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":8,"column":0},"generated":{"line":1,"column":10}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":8,"column":0},"generated":{"line":1,"column":12}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":8,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":8,"column":0},"generated":{"line":1,"column":23}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":9,"column":0},"generated":{"line":1,"column":26}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":9,"column":0},"generated":{"line":1,"column":45}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":10,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":10,"column":0},"generated":{"line":1,"column":60}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":10,"column":0},"generated":{"line":1,"column":62}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":10,"column":0},"generated":{"line":1,"column":80}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":11,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":11,"column":0},"generated":{"line":1,"column":88}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":11,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":11,"column":0},"generated":{"line":1,"column":110}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":11,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":14,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":14,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":14,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":15,"column":0},"generated":{"line":1,"column":142}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":15,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":15,"column":0},"generated":{"line":1,"column":158}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":15,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":164}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":166}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":180}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":185}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":189}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":191}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":205}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":17,"column":0},"generated":{"line":1,"column":207}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":20,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":20,"column":0},"generated":{"line":1,"column":221}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":20,"column":0},"generated":{"line":1,"column":223}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":21,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":21,"column":0},"generated":{"line":1,"column":239}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":21,"column":0},"generated":{"line":1,"column":253}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":21,"column":0},"generated":{"line":1,"column":255}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":259}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":261}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":275}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":280}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":286}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":300}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":23,"column":0},"generated":{"line":1,"column":302}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":27,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":27,"column":0},"generated":{"line":1,"column":325}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":27,"column":0},"generated":{"line":1,"column":327}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":28,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":28,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":28,"column":0},"generated":{"line":1,"column":344}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":28,"column":0},"generated":{"line":1,"column":362}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":29,"column":0},"generated":{"line":1,"column":368}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":29,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":29,"column":0},"generated":{"line":1,"column":388}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":29,"column":0},"generated":{"line":1,"column":392}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":29,"column":0},"generated":{"line":1,"column":394}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":32,"column":0},"generated":{"line":1,"column":404}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":32,"column":0},"generated":{"line":1,"column":408}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":32,"column":0},"generated":{"line":1,"column":410}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":33,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":33,"column":0},"generated":{"line":1,"column":426}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":33,"column":0},"generated":{"line":1,"column":440}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":33,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":446}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":448}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":462}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":467}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":471}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":473}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":487}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":35,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":38,"column":0},"generated":{"line":1,"column":499}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":38,"column":0},"generated":{"line":1,"column":503}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":38,"column":0},"generated":{"line":1,"column":505}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":39,"column":0},"generated":{"line":1,"column":519}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":39,"column":0},"generated":{"line":1,"column":521}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":39,"column":0},"generated":{"line":1,"column":535}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":39,"column":0},"generated":{"line":1,"column":537}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":557}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":562}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":566}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":582}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":41,"column":0},"generated":{"line":1,"column":584}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":50,"column":0},"generated":{"line":1,"column":591}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":50,"column":0},"generated":{"line":1,"column":593}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":50,"column":0},"generated":{"line":1,"column":602}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":51,"column":0},"generated":{"line":1,"column":612}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":51,"column":0},"generated":{"line":1,"column":614}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":52,"column":0},"generated":{"line":1,"column":635}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":52,"column":0},"generated":{"line":1,"column":637}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":53,"column":0},"generated":{"line":1,"column":658}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":53,"column":0},"generated":{"line":1,"column":660}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":54,"column":0},"generated":{"line":1,"column":681}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":54,"column":0},"generated":{"line":1,"column":683}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":65,"column":0},"generated":{"line":1,"column":698}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":65,"column":0},"generated":{"line":1,"column":700}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":65,"column":0},"generated":{"line":1,"column":709}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":65,"column":0},"generated":{"line":1,"column":711}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":66,"column":0},"generated":{"line":1,"column":714}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":67,"column":0},"generated":{"line":1,"column":718}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":69,"column":0},"generated":{"line":1,"column":720}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":69,"column":0},"generated":{"line":1,"column":722}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":69,"column":0},"generated":{"line":1,"column":724}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":94,"column":0},"generated":{"line":1,"column":738}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":72,"column":0},"generated":{"line":1,"column":745}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":73,"column":0},"generated":{"line":1,"column":749}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":73,"column":0},"generated":{"line":1,"column":752}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":73,"column":0},"generated":{"line":1,"column":754}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":73,"column":0},"generated":{"line":1,"column":772}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":78,"column":0},"generated":{"line":1,"column":777}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":78,"column":0},"generated":{"line":1,"column":779}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":78,"column":0},"generated":{"line":1,"column":781}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":78,"column":0},"generated":{"line":1,"column":799}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":81,"column":0},"generated":{"line":1,"column":819}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":81,"column":0},"generated":{"line":1,"column":822}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":84,"column":0},"generated":{"line":1,"column":824}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":84,"column":0},"generated":{"line":1,"column":826}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":84,"column":0},"generated":{"line":1,"column":831}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":84,"column":0},"generated":{"line":1,"column":835}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":84,"column":0},"generated":{"line":1,"column":837}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":86,"column":0},"generated":{"line":1,"column":840}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":86,"column":0},"generated":{"line":1,"column":850}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":86,"column":0},"generated":{"line":1,"column":852}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":90,"column":0},"generated":{"line":1,"column":859}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":89,"column":0},"generated":{"line":1,"column":862}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":89,"column":0},"generated":{"line":1,"column":864}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":89,"column":0},"generated":{"line":1,"column":875}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":91,"column":0},"generated":{"line":1,"column":877}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":91,"column":0},"generated":{"line":1,"column":879}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":91,"column":0},"generated":{"line":1,"column":884}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":91,"column":0},"generated":{"line":1,"column":890}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":94,"column":0},"generated":{"line":1,"column":894}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":97,"column":0},"generated":{"line":1,"column":897}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":97,"column":0},"generated":{"line":1,"column":904}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":97,"column":0},"generated":{"line":1,"column":912}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":98,"column":0},"generated":{"line":1,"column":913}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":98,"column":0},"generated":{"line":1,"column":926}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":99,"column":0},"generated":{"line":1,"column":928}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":99,"column":0},"generated":{"line":1,"column":962}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":100,"column":0},"generated":{"line":1,"column":964}},{"source":"node_modules/mux.js/lib/mp4/track-decode-info.js","original":{"line":100,"column":0},"generated":{"line":1,"column":979}}],"sources":{"node_modules/mux.js/lib/mp4/track-decode-info.js":"var ONE_SECOND_IN_TS = 90000; // 90kHz clock\n\n/**\n * Store information about the start and end of the track and the\n * duration for each frame/sample we process in order to calculate\n * the baseMediaDecodeTime\n */\nvar collectDtsInfo = function(track, data) {\n  if (typeof data.pts === 'number') {\n    if (track.timelineStartInfo.pts === undefined) {\n      track.timelineStartInfo.pts = data.pts;\n    }\n\n    if (track.minSegmentPts === undefined) {\n      track.minSegmentPts = data.pts;\n    } else {\n      track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n    }\n\n    if (track.maxSegmentPts === undefined) {\n      track.maxSegmentPts = data.pts;\n    } else {\n      track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n    }\n  }\n\n  if (typeof data.dts === 'number') {\n    if (track.timelineStartInfo.dts === undefined) {\n      track.timelineStartInfo.dts = data.dts;\n    }\n\n    if (track.minSegmentDts === undefined) {\n      track.minSegmentDts = data.dts;\n    } else {\n      track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n    }\n\n    if (track.maxSegmentDts === undefined) {\n      track.maxSegmentDts = data.dts;\n    } else {\n      track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n    }\n  }\n};\n\n/**\n * Clear values used to calculate the baseMediaDecodeTime between\n * tracks\n */\nvar clearDtsInfo = function(track) {\n  delete track.minSegmentDts;\n  delete track.maxSegmentDts;\n  delete track.minSegmentPts;\n  delete track.maxSegmentPts;\n};\n\n/**\n * Calculate the track's baseMediaDecodeTime based on the earliest\n * DTS the transmuxer has ever seen and the minimum DTS for the\n * current track\n * @param track {object} track metadata configuration\n * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n *        in the source; false to adjust the first segment to start at 0.\n */\nvar calculateTrackBaseMediaDecodeTime = function(track, keepOriginalTimestamps) {\n  var\n    baseMediaDecodeTime,\n    scale,\n    minSegmentDts = track.minSegmentDts;\n\n  // Optionally adjust the time so the first segment starts at zero.\n  if (!keepOriginalTimestamps) {\n    minSegmentDts -= track.timelineStartInfo.dts;\n  }\n\n  // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n  // we want the start of the first segment to be placed\n  baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime;\n\n  // Add to that the distance this segment is from the very first\n  baseMediaDecodeTime += minSegmentDts;\n\n  // baseMediaDecodeTime must not become negative\n  baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n  if (track.type === 'audio') {\n    // Audio has a different clock equal to the sampling_rate so we need to\n    // scale the PTS values into the clock rate of the track\n    scale = track.samplerate / ONE_SECOND_IN_TS;\n    baseMediaDecodeTime *= scale;\n    baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n  }\n\n  return baseMediaDecodeTime;\n};\n\nmodule.exports = {\n  clearDtsInfo: clearDtsInfo,\n  calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n  collectDtsInfo: collectDtsInfo\n};\n"},"lineCount":null}},"hash":"d7ed6b3ed45c5c36aaf059cc77b6b6b8","cacheData":{"env":{}}}