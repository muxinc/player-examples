{"id":"+gYI","dependencies":[{"name":"/Users/mmcc/Projects/muxinc/playground/videojs-src/package.json","includedInParent":true,"mtime":1546640892883},{"name":"/Users/mmcc/Projects/muxinc/playground/videojs-src/node_modules/mux.js/package.json","includedInParent":true,"mtime":1546637285878}],"generated":{"js":"\"use strict\";var a=4,r=128,e=function(e){for(var o=0,t={payloadType:-1,payloadSize:0},n=0,l=0;o<e.byteLength&&e[o]!==r;){for(;255===e[o];)n+=255,o++;for(n+=e[o++];255===e[o];)l+=255,o++;if(l+=e[o++],!t.payload&&n===a){t.payloadType=n,t.payloadSize=l,t.payload=e.subarray(o,o+l);break}o+=l,n=0,l=0}return t},o=function(a){return 181!==a.payload[0]?null:49!=(a.payload[1]<<8|a.payload[2])?null:\"GA94\"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},t=function(a,r){var e,o,t,n,l=[];if(!(64&r[0]))return l;for(o=31&r[0],e=0;e<o;e++)n={type:3&r[(t=3*e)+2],pts:a},4&r[t+2]&&(n.ccData=r[t+3]<<8|r[t+4],l.push(n));return l},n=function(a){for(var r,e,o=a.byteLength,t=[],n=1;n<o-2;)0===a[n]&&0===a[n+1]&&3===a[n+2]?(t.push(n+2),n+=2):n++;if(0===t.length)return a;r=o-t.length,e=new Uint8Array(r);var l=0;for(n=0;n<r;l++,n++)l===t[0]&&(l++,t.shift()),e[n]=a[l];return e};module.exports={parseSei:e,parseUserData:o,parseCaptionPackets:t,discardEmulationPreventionBytes:n,USER_DATA_REGISTERED_ITU_T_T35:a};","map":{"mappings":[{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":14,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":20,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":20,"column":0},"generated":{"line":1,"column":17}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":20,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":21,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":21,"column":0},"generated":{"line":1,"column":23}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":31,"column":0},"generated":{"line":1,"column":27}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":31,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":31,"column":0},"generated":{"line":1,"column":38}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":42,"column":0},"generated":{"line":1,"column":41}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":32,"column":0},"generated":{"line":1,"column":45}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":33,"column":0},"generated":{"line":1,"column":49}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":33,"column":0},"generated":{"line":1,"column":51}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":34,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":34,"column":0},"generated":{"line":1,"column":55}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":35,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":35,"column":0},"generated":{"line":1,"column":69}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":36,"column":0},"generated":{"line":1,"column":71}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":36,"column":0},"generated":{"line":1,"column":83}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":38,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":38,"column":0},"generated":{"line":1,"column":88}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":39,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":39,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":42,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":42,"column":0},"generated":{"line":1,"column":96}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":42,"column":0},"generated":{"line":1,"column":98}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":44,"column":0},"generated":{"line":1,"column":110}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":44,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":44,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":42,"column":0},"generated":{"line":1,"column":120}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":49,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":49,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":49,"column":0},"generated":{"line":1,"column":132}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":49,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":50,"column":0},"generated":{"line":1,"column":138}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":50,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":51,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":56,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":53,"column":0},"generated":{"line":1,"column":153}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":53,"column":0},"generated":{"line":1,"column":156}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":53,"column":0},"generated":{"line":1,"column":158}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":56,"column":0},"generated":{"line":1,"column":163}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":56,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":56,"column":0},"generated":{"line":1,"column":171}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":57,"column":0},"generated":{"line":1,"column":175}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":57,"column":0},"generated":{"line":1,"column":178}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":58,"column":0},"generated":{"line":1,"column":182}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":60,"column":0},"generated":{"line":1,"column":189}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":60,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":60,"column":0},"generated":{"line":1,"column":194}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":200}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":202}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":215}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":64,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":65,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":65,"column":0},"generated":{"line":1,"column":220}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":65,"column":0},"generated":{"line":1,"column":232}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":66,"column":0},"generated":{"line":1,"column":234}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":66,"column":0},"generated":{"line":1,"column":236}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":66,"column":0},"generated":{"line":1,"column":248}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":250}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":252}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":260}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":262}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":67,"column":0},"generated":{"line":1,"column":275}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":68,"column":0},"generated":{"line":1,"column":278}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":72,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":72,"column":0},"generated":{"line":1,"column":287}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":73,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":73,"column":0},"generated":{"line":1,"column":291}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":74,"column":0},"generated":{"line":1,"column":293}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":74,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":77,"column":0},"generated":{"line":1,"column":297}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":77,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":81,"column":0},"generated":{"line":1,"column":307}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":81,"column":0},"generated":{"line":1,"column":309}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":81,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":84,"column":0},"generated":{"line":1,"column":321}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":84,"column":0},"generated":{"line":1,"column":328}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":84,"column":0},"generated":{"line":1,"column":334}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":84,"column":0},"generated":{"line":1,"column":336}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":84,"column":0},"generated":{"line":1,"column":344}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":85,"column":0},"generated":{"line":1,"column":347}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":352}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":357}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":359}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":367}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":371}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":373}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":375}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":89,"column":0},"generated":{"line":1,"column":383}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":90,"column":0},"generated":{"line":1,"column":387}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":97,"column":0},"generated":{"line":1,"column":392}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":94,"column":0},"generated":{"line":1,"column":401}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":94,"column":0},"generated":{"line":1,"column":408}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":94,"column":0},"generated":{"line":1,"column":421}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":94,"column":0},"generated":{"line":1,"column":423}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":94,"column":0},"generated":{"line":1,"column":431}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":95,"column":0},"generated":{"line":1,"column":434}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":95,"column":0},"generated":{"line":1,"column":436}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":95,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":96,"column":0},"generated":{"line":1,"column":447}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":96,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":96,"column":0},"generated":{"line":1,"column":457}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":97,"column":0},"generated":{"line":1,"column":460}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":97,"column":0},"generated":{"line":1,"column":462}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":97,"column":0},"generated":{"line":1,"column":470}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":98,"column":0},"generated":{"line":1,"column":474}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":102,"column":0},"generated":{"line":1,"column":479}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":102,"column":0},"generated":{"line":1,"column":483}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":102,"column":0},"generated":{"line":1,"column":485}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":102,"column":0},"generated":{"line":1,"column":493}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":103,"column":0},"generated":{"line":1,"column":496}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":501}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":503}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":511}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":520}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":522}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":524}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":532}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":108,"column":0},"generated":{"line":1,"column":539}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":112,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":112,"column":0},"generated":{"line":1,"column":545}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":112,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":112,"column":0},"generated":{"line":1,"column":556}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":559}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":563}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":565}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":567}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":569}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":571}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":113,"column":0},"generated":{"line":1,"column":573}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":116,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":116,"column":0},"generated":{"line":1,"column":581}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":116,"column":0},"generated":{"line":1,"column":584}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":116,"column":0},"generated":{"line":1,"column":586}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":117,"column":0},"generated":{"line":1,"column":590}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":117,"column":0},"generated":{"line":1,"column":597}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":599}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":121,"column":0},"generated":{"line":1,"column":603}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":121,"column":0},"generated":{"line":1,"column":605}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":121,"column":0},"generated":{"line":1,"column":608}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":121,"column":0},"generated":{"line":1,"column":610}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":613}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":615}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":617}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":619}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":122,"column":0},"generated":{"line":1,"column":621}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":124,"column":0},"generated":{"line":1,"column":625}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":124,"column":0},"generated":{"line":1,"column":627}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":125,"column":0},"generated":{"line":1,"column":628}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":125,"column":0},"generated":{"line":1,"column":633}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":125,"column":0},"generated":{"line":1,"column":635}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":123,"column":0},"generated":{"line":1,"column":638}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":123,"column":0},"generated":{"line":1,"column":640}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":123,"column":0},"generated":{"line":1,"column":642}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":125,"column":0},"generated":{"line":1,"column":645}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":126,"column":0},"generated":{"line":1,"column":648}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":126,"column":0},"generated":{"line":1,"column":652}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":130,"column":0},"generated":{"line":1,"column":655}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":130,"column":0},"generated":{"line":1,"column":657}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":130,"column":0},"generated":{"line":1,"column":659}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":130,"column":0},"generated":{"line":1,"column":661}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":666}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":668}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":675}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":677}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":679}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":683}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":685}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":687}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":131,"column":0},"generated":{"line":1,"column":689}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":132,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":132,"column":0},"generated":{"line":1,"column":694}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":132,"column":0},"generated":{"line":1,"column":699}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":135,"column":0},"generated":{"line":1,"column":703}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":135,"column":0},"generated":{"line":1,"column":710}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":138,"column":0},"generated":{"line":1,"column":713}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":138,"column":0},"generated":{"line":1,"column":715}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":138,"column":0},"generated":{"line":1,"column":724}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":146,"column":0},"generated":{"line":1,"column":727}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":139,"column":0},"generated":{"line":1,"column":731}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":143,"column":0},"generated":{"line":1,"column":735}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":143,"column":0},"generated":{"line":1,"column":737}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":140,"column":0},"generated":{"line":1,"column":739}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":140,"column":0},"generated":{"line":1,"column":741}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":140,"column":0},"generated":{"line":1,"column":743}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":141,"column":0},"generated":{"line":1,"column":754}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":141,"column":0},"generated":{"line":1,"column":756}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":142,"column":0},"generated":{"line":1,"column":759}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":142,"column":0},"generated":{"line":1,"column":761}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":146,"column":0},"generated":{"line":1,"column":763}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":146,"column":0},"generated":{"line":1,"column":765}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":146,"column":0},"generated":{"line":1,"column":767}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":770}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":774}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":776}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":780}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":784}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":786}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":788}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":792}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":796}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":798}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":147,"column":0},"generated":{"line":1,"column":800}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":148,"column":0},"generated":{"line":1,"column":804}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":148,"column":0},"generated":{"line":1,"column":806}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":148,"column":0},"generated":{"line":1,"column":811}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":148,"column":0},"generated":{"line":1,"column":813}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":149,"column":0},"generated":{"line":1,"column":816}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":149,"column":0},"generated":{"line":1,"column":819}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":151,"column":0},"generated":{"line":1,"column":822}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":157,"column":0},"generated":{"line":1,"column":826}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":157,"column":0},"generated":{"line":1,"column":829}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":157,"column":0},"generated":{"line":1,"column":833}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":157,"column":0},"generated":{"line":1,"column":835}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":158,"column":0},"generated":{"line":1,"column":842}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":158,"column":0},"generated":{"line":1,"column":849}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":162,"column":0},"generated":{"line":1,"column":851}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":162,"column":0},"generated":{"line":1,"column":853}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":162,"column":0},"generated":{"line":1,"column":855}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":162,"column":0},"generated":{"line":1,"column":857}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":163,"column":0},"generated":{"line":1,"column":864}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":163,"column":0},"generated":{"line":1,"column":866}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":163,"column":0},"generated":{"line":1,"column":870}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":163,"column":0},"generated":{"line":1,"column":881}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":164,"column":0},"generated":{"line":1,"column":884}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":164,"column":0},"generated":{"line":1,"column":888}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":164,"column":0},"generated":{"line":1,"column":890}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":892}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":896}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":898}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":900}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":902}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":904}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":166,"column":0},"generated":{"line":1,"column":908}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":167,"column":0},"generated":{"line":1,"column":912}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":167,"column":0},"generated":{"line":1,"column":916}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":167,"column":0},"generated":{"line":1,"column":918}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":169,"column":0},"generated":{"line":1,"column":923}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":171,"column":0},"generated":{"line":1,"column":927}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":171,"column":0},"generated":{"line":1,"column":929}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":173,"column":0},"generated":{"line":1,"column":938}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":173,"column":0},"generated":{"line":1,"column":940}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":173,"column":0},"generated":{"line":1,"column":943}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":173,"column":0},"generated":{"line":1,"column":945}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":176,"column":0},"generated":{"line":1,"column":948}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":176,"column":0},"generated":{"line":1,"column":955}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":180,"column":0},"generated":{"line":1,"column":958}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":180,"column":0},"generated":{"line":1,"column":965}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":180,"column":0},"generated":{"line":1,"column":973}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":181,"column":0},"generated":{"line":1,"column":974}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":181,"column":0},"generated":{"line":1,"column":983}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":182,"column":0},"generated":{"line":1,"column":985}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":182,"column":0},"generated":{"line":1,"column":999}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":183,"column":0},"generated":{"line":1,"column":1001}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":183,"column":0},"generated":{"line":1,"column":1021}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":184,"column":0},"generated":{"line":1,"column":1023}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":184,"column":0},"generated":{"line":1,"column":1055}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":185,"column":0},"generated":{"line":1,"column":1057}},{"source":"node_modules/mux.js/lib/tools/caption-packet-parser.js","original":{"line":185,"column":0},"generated":{"line":1,"column":1088}}],"sources":{"node_modules/mux.js/lib/tools/caption-packet-parser.js":"/**\n * mux.js\n *\n * Copyright (c) 2015 Brightcove\n * All rights reserved.\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n\n'use strict';\n\n// Supplemental enhancement information (SEI) NAL units have a\n// payload type field to indicate how they are to be\n// interpreted. CEAS-708 caption content is always transmitted with\n// payload type 0x04.\nvar USER_DATA_REGISTERED_ITU_T_T35 = 4,\n    RBSP_TRAILING_BITS = 128;\n\n/**\n  * Parse a supplemental enhancement information (SEI) NAL unit.\n  * Stops parsing once a message of type ITU T T35 has been found.\n  *\n  * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n  * @return {object} the parsed SEI payload\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n  */\nvar parseSei = function(bytes) {\n  var\n    i = 0,\n    result = {\n      payloadType: -1,\n      payloadSize: 0\n    },\n    payloadType = 0,\n    payloadSize = 0;\n\n  // go through the sei_rbsp parsing each each individual sei_message\n  while (i < bytes.byteLength) {\n    // stop once we have hit the end of the sei_rbsp\n    if (bytes[i] === RBSP_TRAILING_BITS) {\n      break;\n    }\n\n    // Parse payload type\n    while (bytes[i] === 0xFF) {\n      payloadType += 255;\n      i++;\n    }\n    payloadType += bytes[i++];\n\n    // Parse payload size\n    while (bytes[i] === 0xFF) {\n      payloadSize += 255;\n      i++;\n    }\n    payloadSize += bytes[i++];\n\n    // this sei_message is a 608/708 caption so save it and break\n    // there can only ever be one caption message in a frame's sei\n    if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n      result.payloadType = payloadType;\n      result.payloadSize = payloadSize;\n      result.payload = bytes.subarray(i, i + payloadSize);\n      break;\n    }\n\n    // skip the payload and parse the next message\n    i += payloadSize;\n    payloadType = 0;\n    payloadSize = 0;\n  }\n\n  return result;\n};\n\n// see ANSI/SCTE 128-1 (2013), section 8.1\nvar parseUserData = function(sei) {\n  // itu_t_t35_contry_code must be 181 (United States) for\n  // captions\n  if (sei.payload[0] !== 181) {\n    return null;\n  }\n\n  // itu_t_t35_provider_code should be 49 (ATSC) for captions\n  if (((sei.payload[1] << 8) | sei.payload[2]) !== 49) {\n    return null;\n  }\n\n  // the user_identifier should be \"GA94\" to indicate ATSC1 data\n  if (String.fromCharCode(sei.payload[3],\n                          sei.payload[4],\n                          sei.payload[5],\n                          sei.payload[6]) !== 'GA94') {\n    return null;\n  }\n\n  // finally, user_data_type_code should be 0x03 for caption data\n  if (sei.payload[7] !== 0x03) {\n    return null;\n  }\n\n  // return the user_data_type_structure and strip the trailing\n  // marker bits\n  return sei.payload.subarray(8, sei.payload.length - 1);\n};\n\n// see CEA-708-D, section 4.4\nvar parseCaptionPackets = function(pts, userData) {\n  var results = [], i, count, offset, data;\n\n  // if this is just filler, return immediately\n  if (!(userData[0] & 0x40)) {\n    return results;\n  }\n\n  // parse out the cc_data_1 and cc_data_2 fields\n  count = userData[0] & 0x1f;\n  for (i = 0; i < count; i++) {\n    offset = i * 3;\n    data = {\n      type: userData[offset + 2] & 0x03,\n      pts: pts\n    };\n\n    // capture cc data when cc_valid is 1\n    if (userData[offset + 2] & 0x04) {\n      data.ccData = (userData[offset + 3] << 8) | userData[offset + 4];\n      results.push(data);\n    }\n  }\n  return results;\n};\n\nvar discardEmulationPreventionBytes = function(data) {\n    var\n      length = data.byteLength,\n      emulationPreventionBytesPositions = [],\n      i = 1,\n      newLength, newData;\n\n    // Find all `Emulation Prevention Bytes`\n    while (i < length - 2) {\n      if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n        emulationPreventionBytesPositions.push(i + 2);\n        i += 2;\n      } else {\n        i++;\n      }\n    }\n\n    // If no Emulation Prevention Bytes were found just return the original\n    // array\n    if (emulationPreventionBytesPositions.length === 0) {\n      return data;\n    }\n\n    // Create a new array to hold the NAL unit data\n    newLength = length - emulationPreventionBytesPositions.length;\n    newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n\n    for (i = 0; i < newLength; sourceIndex++, i++) {\n      if (sourceIndex === emulationPreventionBytesPositions[0]) {\n        // Skip this byte\n        sourceIndex++;\n        // Remove this position index\n        emulationPreventionBytesPositions.shift();\n      }\n      newData[i] = data[sourceIndex];\n    }\n\n    return newData;\n};\n\n// exports\nmodule.exports = {\n  parseSei: parseSei,\n  parseUserData: parseUserData,\n  parseCaptionPackets: parseCaptionPackets,\n  discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n  USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n};\n"},"lineCount":null}},"hash":"ec5a552e86fc36cfc0ca7232622579ac","cacheData":{"env":{}}}