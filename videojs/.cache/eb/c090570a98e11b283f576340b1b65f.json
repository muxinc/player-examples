{"id":"ID0s","dependencies":[{"name":"/Users/mmcc/Projects/muxinc/playground/videojs/package.json","includedInParent":true,"mtime":1546639489646},{"name":"/Users/mmcc/Projects/muxinc/playground/videojs/node_modules/mux.js/package.json","includedInParent":true,"mtime":1546637285878},{"name":"../utils/stream.js","loc":{"line":3,"column":21},"parent":"/Users/mmcc/Projects/muxinc/playground/videojs/node_modules/mux.js/lib/codecs/adts.js","resolved":"/Users/mmcc/Projects/muxinc/playground/videojs/node_modules/mux.js/lib/utils/stream.js"}],"generated":{"js":"\"use strict\";var e,t=require(\"../utils/stream.js\"),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(e=function(){var t;e.prototype.init.call(this),this.push=function(e){var i,r,s,n,o,u,d=0,h=0;if(\"audio\"===e.type)for(t?(n=t,(t=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),t.set(e.data,n.byteLength)):t=e.data;d+5<t.length;)if(255===t[d]&&240==(246&t[d+1])){if(r=2*(1&~t[d+1]),i=(3&t[d+3])<<11|t[d+4]<<3|(224&t[d+5])>>5,u=9e4*(o=1024*(1+(3&t[d+6])))/a[(60&t[d+2])>>>2],s=d+i,t.byteLength<s)return;if(this.trigger(\"data\",{pts:e.pts+h*u,dts:e.dts+h*u,sampleCount:o,audioobjecttype:1+(t[d+2]>>>6&3),channelcount:(1&t[d+2])<<2|(192&t[d+3])>>>6,samplerate:a[(60&t[d+2])>>>2],samplingfrequencyindex:(60&t[d+2])>>>2,samplesize:16,data:t.subarray(d+7+r,s)}),t.byteLength===s)return void(t=void 0);h++,t=t.subarray(s)}else d++},this.flush=function(){this.trigger(\"done\")}}).prototype=new t,module.exports=e;","map":{"mappings":[{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":5,"column":0},"generated":{"line":1,"column":17}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":8,"column":0},"generated":{"line":1,"column":51}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":8,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":9,"column":0},"generated":{"line":1,"column":54}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":10,"column":0},"generated":{"line":1,"column":59}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":11,"column":0},"generated":{"line":1,"column":65}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":12,"column":0},"generated":{"line":1,"column":70}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":13,"column":0},"generated":{"line":1,"column":75}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":14,"column":0},"generated":{"line":1,"column":81}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":15,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":16,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":17,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":18,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":19,"column":0},"generated":{"line":1,"column":107}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":20,"column":0},"generated":{"line":1,"column":113}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":21,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":32,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":32,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":33,"column":0},"generated":{"line":1,"column":137}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":33,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":35,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":35,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":35,"column":0},"generated":{"line":1,"column":155}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":35,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":35,"column":0},"generated":{"line":1,"column":165}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":37,"column":0},"generated":{"line":1,"column":171}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":37,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":37,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":37,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":38,"column":0},"generated":{"line":1,"column":193}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":41,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":42,"column":0},"generated":{"line":1,"column":199}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":43,"column":0},"generated":{"line":1,"column":201}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":44,"column":0},"generated":{"line":1,"column":203}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":45,"column":0},"generated":{"line":1,"column":205}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":46,"column":0},"generated":{"line":1,"column":207}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":39,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":39,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":40,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":40,"column":0},"generated":{"line":1,"column":215}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":48,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":48,"column":0},"generated":{"line":1,"column":220}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":48,"column":0},"generated":{"line":1,"column":230}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":48,"column":0},"generated":{"line":1,"column":232}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":66,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":55,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":56,"column":0},"generated":{"line":1,"column":244}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":56,"column":0},"generated":{"line":1,"column":246}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":251}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":255}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":266}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":268}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":279}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":57,"column":0},"generated":{"line":1,"column":286}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":58,"column":0},"generated":{"line":1,"column":299}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":58,"column":0},"generated":{"line":1,"column":303}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":306}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":312}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":319}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":59,"column":0},"generated":{"line":1,"column":321}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":61,"column":0},"generated":{"line":1,"column":334}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":61,"column":0},"generated":{"line":1,"column":336}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":61,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":66,"column":0},"generated":{"line":1,"column":343}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":66,"column":0},"generated":{"line":1,"column":345}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":66,"column":0},"generated":{"line":1,"column":347}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":66,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":357}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":360}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":366}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":368}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":378}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":382}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":384}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":386}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":69,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":94,"column":0},"generated":{"line":1,"column":391}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":394}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":396}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":399}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":402}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":404}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":78,"column":0},"generated":{"line":1,"column":406}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":410}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":415}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":417}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":419}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":82,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":83,"column":0},"generated":{"line":1,"column":427}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":83,"column":0},"generated":{"line":1,"column":429}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":83,"column":0},"generated":{"line":1,"column":431}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":83,"column":0},"generated":{"line":1,"column":435}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":84,"column":0},"generated":{"line":1,"column":438}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":84,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":84,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":84,"column":0},"generated":{"line":1,"column":446}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":84,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":87,"column":0},"generated":{"line":1,"column":453}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":87,"column":0},"generated":{"line":1,"column":455}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":460}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":462}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":468}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":471}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":473}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":475}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":86,"column":0},"generated":{"line":1,"column":477}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":483}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":486}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":491}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":493}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":88,"column":0},"generated":{"line":1,"column":499}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":90,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":90,"column":0},"generated":{"line":1,"column":504}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":90,"column":0},"generated":{"line":1,"column":506}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":94,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":94,"column":0},"generated":{"line":1,"column":510}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":94,"column":0},"generated":{"line":1,"column":521}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":95,"column":0},"generated":{"line":1,"column":523}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":114,"column":0},"generated":{"line":1,"column":530}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":99,"column":0},"generated":{"line":1,"column":533}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":99,"column":0},"generated":{"line":1,"column":538}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":99,"column":0},"generated":{"line":1,"column":546}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":99,"column":0},"generated":{"line":1,"column":553}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":100,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":100,"column":0},"generated":{"line":1,"column":558}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":100,"column":0},"generated":{"line":1,"column":560}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":100,"column":0},"generated":{"line":1,"column":564}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":100,"column":0},"generated":{"line":1,"column":566}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":101,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":101,"column":0},"generated":{"line":1,"column":572}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":101,"column":0},"generated":{"line":1,"column":574}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":101,"column":0},"generated":{"line":1,"column":578}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":101,"column":0},"generated":{"line":1,"column":580}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":102,"column":0},"generated":{"line":1,"column":582}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":102,"column":0},"generated":{"line":1,"column":594}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":596}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":612}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":615}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":617}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":619}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":624}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":103,"column":0},"generated":{"line":1,"column":626}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":629}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":643}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":645}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":647}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":649}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":104,"column":0},"generated":{"line":1,"column":654}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":105,"column":0},"generated":{"line":1,"column":657}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":105,"column":0},"generated":{"line":1,"column":661}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":105,"column":0},"generated":{"line":1,"column":663}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":105,"column":0},"generated":{"line":1,"column":665}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":105,"column":0},"generated":{"line":1,"column":671}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":673}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":684}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":687}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":690}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":694}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":106,"column":0},"generated":{"line":1,"column":700}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":703}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":727}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":730}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":732}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":734}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":107,"column":0},"generated":{"line":1,"column":740}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":109,"column":0},"generated":{"line":1,"column":742}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":109,"column":0},"generated":{"line":1,"column":753}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":756}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":761}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":763}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":772}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":774}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":776}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":110,"column":0},"generated":{"line":1,"column":778}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":114,"column":0},"generated":{"line":1,"column":783}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":114,"column":0},"generated":{"line":1,"column":785}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":114,"column":0},"generated":{"line":1,"column":798}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":116,"column":0},"generated":{"line":1,"column":800}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":115,"column":0},"generated":{"line":1,"column":812}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":115,"column":0},"generated":{"line":1,"column":819}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":119,"column":0},"generated":{"line":1,"column":822}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":122,"column":0},"generated":{"line":1,"column":826}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":122,"column":0},"generated":{"line":1,"column":828}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":122,"column":0},"generated":{"line":1,"column":830}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":122,"column":0},"generated":{"line":1,"column":839}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":72,"column":0},"generated":{"line":1,"column":847}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":125,"column":0},"generated":{"line":1,"column":852}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":125,"column":0},"generated":{"line":1,"column":857}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":125,"column":0},"generated":{"line":1,"column":863}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":126,"column":0},"generated":{"line":1,"column":874}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":126,"column":0},"generated":{"line":1,"column":879}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":126,"column":0},"generated":{"line":1,"column":887}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":130,"column":0},"generated":{"line":1,"column":898}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":130,"column":0},"generated":{"line":1,"column":908}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":130,"column":0},"generated":{"line":1,"column":912}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":132,"column":0},"generated":{"line":1,"column":914}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":132,"column":0},"generated":{"line":1,"column":921}},{"source":"node_modules/mux.js/lib/codecs/adts.js","original":{"line":132,"column":0},"generated":{"line":1,"column":929}}],"sources":{"node_modules/mux.js/lib/codecs/adts.js":"'use strict';\n\nvar Stream = require('../utils/stream.js');\n\nvar AdtsStream;\n\nvar\n  ADTS_SAMPLING_FREQUENCIES = [\n    96000,\n    88200,\n    64000,\n    48000,\n    44100,\n    32000,\n    24000,\n    22050,\n    16000,\n    12000,\n    11025,\n    8000,\n    7350\n  ];\n\n/*\n * Accepts a ElementaryStream and emits data events with parsed\n * AAC Audio Frames of the individual packets. Input audio in ADTS\n * format is unpacked and re-emitted as AAC frames.\n *\n * @see http://wiki.multimedia.cx/index.php?title=ADTS\n * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n */\nAdtsStream = function() {\n  var buffer;\n\n  AdtsStream.prototype.init.call(this);\n\n  this.push = function(packet) {\n    var\n      i = 0,\n      frameNum = 0,\n      frameLength,\n      protectionSkipBytes,\n      frameEnd,\n      oldBuffer,\n      sampleCount,\n      adtsFrameDuration;\n\n    if (packet.type !== 'audio') {\n      // ignore non-audio data\n      return;\n    }\n\n    // Prepend any data in the buffer to the input data so that we can parse\n    // aac frames the cross a PES packet boundary\n    if (buffer) {\n      oldBuffer = buffer;\n      buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n      buffer.set(oldBuffer);\n      buffer.set(packet.data, oldBuffer.byteLength);\n    } else {\n      buffer = packet.data;\n    }\n\n    // unpack any ADTS frames which have been fully received\n    // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n    while (i + 5 < buffer.length) {\n\n      // Loook for the start of an ADTS header..\n      if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n        // If a valid header was not found,  jump one forward and attempt to\n        // find a valid ADTS header starting at the next byte\n        i++;\n        continue;\n      }\n\n      // The protection skip bit tells us if we have 2 bytes of CRC data at the\n      // end of the ADTS header\n      protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2;\n\n      // Frame length is a 13 bit integer starting 16 bits from the\n      // end of the sync sequence\n      frameLength = ((buffer[i + 3] & 0x03) << 11) |\n        (buffer[i + 4] << 3) |\n        ((buffer[i + 5] & 0xe0) >> 5);\n\n      sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n      adtsFrameDuration = (sampleCount * 90000) /\n        ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n\n      frameEnd = i + frameLength;\n\n      // If we don't have enough data to actually finish this ADTS frame, return\n      // and wait for more data\n      if (buffer.byteLength < frameEnd) {\n        return;\n      }\n\n      // Otherwise, deliver the complete AAC frame\n      this.trigger('data', {\n        pts: packet.pts + (frameNum * adtsFrameDuration),\n        dts: packet.dts + (frameNum * adtsFrameDuration),\n        sampleCount: sampleCount,\n        audioobjecttype: ((buffer[i + 2] >>> 6) & 0x03) + 1,\n        channelcount: ((buffer[i + 2] & 1) << 2) |\n          ((buffer[i + 3] & 0xc0) >>> 6),\n        samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n        samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n        // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n        samplesize: 16,\n        data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n      });\n\n      // If the buffer is empty, clear it and return\n      if (buffer.byteLength === frameEnd) {\n        buffer = undefined;\n        return;\n      }\n\n      frameNum++;\n\n      // Remove the finished frame from the buffer and start the process again\n      buffer = buffer.subarray(frameEnd);\n    }\n  };\n  this.flush = function() {\n    this.trigger('done');\n  };\n};\n\nAdtsStream.prototype = new Stream();\n\nmodule.exports = AdtsStream;\n"},"lineCount":null}},"hash":"63351b2e0dd84f171b7d2996a4979223","cacheData":{"env":{}}}